const header=function(){const e=document.querySelector(".header"),t=e.querySelector(".header__logo-static"),s=e.querySelector(".header__logo-move"),o=e.querySelector(".header__button"),n=e.querySelector(".header__navigation-list"),c=function(){t.classList.add("header__logo--scrol"),s.classList.remove("header__logo--scrol")},r=function(){t.classList.remove("header__logo--scrol"),s.classList.add("header__logo--scrol")},a=function(){o.classList.remove("header__button--close"),o.classList.add("header__button--open")};e.classList.remove("header--no-js"),r(),a(),n.classList.remove("header__navigation-list--open");window.addEventListener("scroll",(function(){window.pageYOffset>1?(e.classList.add("header--scrol"),c()):(e.classList.remove("header--scrol"),r())})),o.addEventListener("click",(function(){o.classList.contains("header__button--open")?(e.classList.add("header--open"),c(),o.classList.add("header__button--close"),o.classList.remove("header__button--open")):o.classList.contains("header__button--close")&&(e.classList.remove("header--open"),r(),a())}))},tariffs_block=document.querySelector(".tariffs"),business_tariffs=function(){if(!tariffs_block)return;const e=tariffs_block.querySelector(".tariffs__open-business"),t=tariffs_block.querySelector(".tariffs__close-business"),s=tariffs_block.querySelector(".tariffs__business-block");e.addEventListener("click",(function(e){e.preventDefault(),s.classList.remove("tariffs__business-block--close")})),t.addEventListener("click",(function(){s.classList.add("tariffs__business-block--close")}))},validation=function(){const e=document.querySelector(".check-in");if(!e)return;const t=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,s=e.querySelector(".check-in__button"),o=e.querySelector('.check-in__input[type="email"]');o.addEventListener("input",(function(){t.test(o.value)?o.classList.remove("check-in__input--error"):o.classList.add("check-in__input--error")})),s.addEventListener("click",(function(e){o.classList.contains("check-in__input--error")&&e.preventDefault()}))},map_block=function(){document.querySelector(".contacts")&&document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#map")&&ymaps.ready((function(){var e=new ymaps.Map("map",{center:[59.938635,30.323118],zoom:16},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(e.getCenter(),{},{iconLayout:"default#image",iconImageHref:"img/map/map-element/map-pin.svg",iconImageSize:[57,53],iconImageOffset:[-25,-45]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("rulerControl"),e.behaviors.disable("scrollZoom"),e.geoObjects.add(t)}))}))},form_page=function(){const e=document.querySelector(".plan-add");if(!e)return;const t=e.querySelector(".plan-add__steps-indicator").getElementsByClassName("plan-add__steps-dotts"),s=e.querySelectorAll(".step-one__button-minus"),o=e.querySelectorAll(".step-one__button-plus");e.classList.remove("no-js-form"),function(){const s=e.querySelector(".step-one__button"),o=e.querySelector(".step-second__button"),n=e.querySelector(".step-second__button-back"),c=e.querySelector(".step-three__button-back");s.addEventListener("click",(function(){e.classList.remove("step-one--visibility"),e.classList.add("step-second--visibility"),t[0].classList.remove("plan-add__steps-dotts--active"),t[1].classList.add("plan-add__steps-dotts--active")})),n.addEventListener("click",(function(){e.classList.remove("step-second--visibility"),e.classList.add("step-one--visibility"),t[1].classList.remove("plan-add__steps-dotts--active"),t[0].classList.add("plan-add__steps-dotts--active")})),o.addEventListener("click",(function(){e.classList.remove("step-second--visibility"),e.classList.add("step-three--visibility"),t[1].classList.remove("plan-add__steps-dotts--active"),t[2].classList.add("plan-add__steps-dotts--active")})),c.addEventListener("click",(function(){e.classList.remove("step-three--visibility"),e.classList.add("step-second--visibility"),t[2].classList.remove("plan-add__steps-dotts--active"),t[1].classList.add("plan-add__steps-dotts--active")}))}(),function(){function e(){var e=this.parentElement.children.item(2);e.value>1?e.setAttribute("value",(parseInt(e.getAttribute("value"))-1).toString()):s.setAttribute("disabled")}function t(){var e=this.parentElement.children.item(2);e.value<14?e.setAttribute("value",(parseInt(e.getAttribute("value"))+1).toString()):o.setAttribute("disabled")}Array.prototype.forEach.call(s,(function(t){t.addEventListener("click",e)})),Array.prototype.forEach.call(o,(function(e){e.addEventListener("click",t)}))}(),function(){const t=e.getElementsByClassName("step-second__button-country-cheese"),s=e.querySelector(".step-second__countrys-block"),o=e.getElementsByClassName("step-second__button-close");t[2].addEventListener("click",(function(){s.classList.add("step-second__countrys-block--show"),t[2].classList.add("step-second__button-country-cheese--active")})),o[2].addEventListener("click",(function(){t[2].classList.remove("step-second__button-country-cheese--active"),s.classList.remove("step-second__countrys-block--show")})),function(){const o=e.querySelectorAll(".step-second__radio-label-country");e.querySelectorAll(".step-second__radio-country");function n(e){const n=Array.from(o).indexOf(e.target);t[2].innerText=o[n].innerText,t[2].classList.remove("step-second__button-country-cheese--active"),s.classList.remove("step-second__countrys-block--show")}o.forEach((function(e){e.addEventListener("click",n)}))}()}(),function(){const t=e.querySelectorAll(".step-three__entertainment-textarea"),s=e.querySelector(".plan-add__button-submit");!function(){function e(){const e=this.parentElement;this.value.length<3?(e.classList.add("step-three__entertainment-item--error"),s.setAttribute("disabled","disabled")):this.value.length>3&&(e.classList.remove("step-three__entertainment-item--error"),s.removeAttribute("disabled","disabled"))}Array.prototype.forEach.call(t,(function(t){t.addEventListener("input",e)}))}()}()};header(),business_tariffs(),validation(),document.querySelector(".contacts")&&document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#map")&&ymaps.ready((function(){var e=new ymaps.Map("map",{center:[59.938635,30.323118],zoom:16},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(e.getCenter(),{},{iconLayout:"default#image",iconImageHref:"img/map/map-element/map-pin.svg",iconImageSize:[57,53],iconImageOffset:[-25,-45]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("rulerControl"),e.behaviors.disable("scrollZoom"),e.geoObjects.add(t)}))})),form_page();